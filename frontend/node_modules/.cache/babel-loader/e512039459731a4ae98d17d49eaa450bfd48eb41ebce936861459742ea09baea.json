{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Quant\\\\Documents\\\\Programming\\\\Projects\\\\Hackathon\\\\MakeUofT\\\\frontend\\\\src\\\\components\\\\PoseTracker.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState, useCallback } from 'react';\nimport Webcam from 'react-webcam';\nimport { Camera } from '@mediapipe/camera_utils';\nimport { Pose } from '@mediapipe/pose';\nimport './PoseTracker.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PoseTracker = ({\n  selectedPose\n}) => {\n  _s();\n  const webcamRef = useRef(null);\n  const canvasRef = useRef(null);\n  const poseRef = useRef(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [poseAccuracy, setPoseAccuracy] = useState(0);\n  const videoConstraints = {\n    width: 640,\n    height: 480,\n    facingMode: 'user'\n  };\n  const calculatePoseAccuracy = (userLandmarks, targetPose) => {\n    if (!targetPose || !userLandmarks) return 0;\n    let totalAccuracy = 0;\n    let totalPoints = 0;\n\n    // We'll focus on key pose points (excluding face landmarks)\n    const keyPoints = [11, 12,\n    // shoulders\n    13, 14,\n    // elbows\n    15, 16,\n    // wrists\n    23, 24,\n    // hips\n    25, 26,\n    // knees\n    27, 28 // ankles\n    ];\n    keyPoints.forEach(index => {\n      const userLandmark = userLandmarks[index];\n      const targetLandmark = targetPose.landmarks[index];\n      if (userLandmark.visibility > 0.5 && targetLandmark.visibility > 0.5) {\n        // Calculate Euclidean distance for x and y coordinates\n        const distance = Math.sqrt(Math.pow(userLandmark.x - targetLandmark.x, 2) + Math.pow(userLandmark.y - targetLandmark.y, 2));\n\n        // Convert distance to accuracy (closer = higher accuracy)\n        // We consider a distance of 0.1 (10% of the frame) or less as acceptable\n        const pointAccuracy = Math.max(0, 1 - distance / 0.1);\n        totalAccuracy += pointAccuracy;\n        totalPoints++;\n      }\n    });\n    return totalPoints > 0 ? totalAccuracy / totalPoints * 100 : 0;\n  };\n  const onResults = useCallback(results => {\n    if (!canvasRef.current || !results.poseLandmarks) return;\n    const canvasElement = canvasRef.current;\n    const canvasCtx = canvasElement.getContext('2d');\n    const videoWidth = webcamRef.current.video.videoWidth;\n    const videoHeight = webcamRef.current.video.videoHeight;\n\n    // Set canvas dimensions to match video\n    canvasElement.width = videoWidth;\n    canvasElement.height = videoHeight;\n\n    // Calculate pose accuracy if we have a selected pose\n    if (selectedPose) {\n      const accuracy = calculatePoseAccuracy(results.poseLandmarks, selectedPose);\n      setPoseAccuracy(Math.round(accuracy));\n    }\n\n    // Clear canvas\n    canvasCtx.clearRect(0, 0, canvasElement.width, canvasElement.height);\n\n    // Draw pose landmarks\n    if (results.poseLandmarks) {\n      // Draw the pose landmarks\n      canvasCtx.save();\n      canvasCtx.clearRect(0, 0, canvasElement.width, canvasElement.height);\n\n      // Mirror the canvas context\n      canvasCtx.scale(-1, 1);\n      canvasCtx.translate(-videoWidth, 0);\n\n      // Draw connectors\n      canvasCtx.lineWidth = 3;\n\n      // Draw pose connections\n      function drawConnection(landmarks, start, end, color) {\n        const startPoint = landmarks[start];\n        const endPoint = landmarks[end];\n        if (startPoint.visibility > 0.5 && endPoint.visibility > 0.5) {\n          canvasCtx.beginPath();\n          canvasCtx.moveTo(startPoint.x * videoWidth, startPoint.y * videoHeight);\n          canvasCtx.lineTo(endPoint.x * videoWidth, endPoint.y * videoHeight);\n          canvasCtx.strokeStyle = color;\n          canvasCtx.stroke();\n        }\n      }\n      const landmarks = results.poseLandmarks;\n\n      // Draw body parts with different colors\n      // Upper body (green)\n      const upperBodyColor = '#00FF00';\n      drawConnection(landmarks, 11, 12, upperBodyColor); // shoulders\n      drawConnection(landmarks, 11, 13, upperBodyColor); // left upper arm\n      drawConnection(landmarks, 13, 15, upperBodyColor); // left lower arm\n      drawConnection(landmarks, 12, 14, upperBodyColor); // right upper arm\n      drawConnection(landmarks, 14, 16, upperBodyColor); // right lower arm\n\n      // Head (red)\n      const headColor = '#FF0000';\n      drawConnection(landmarks, 0, 1, headColor);\n      drawConnection(landmarks, 1, 2, headColor);\n      drawConnection(landmarks, 2, 3, headColor);\n      drawConnection(landmarks, 3, 7, headColor);\n      drawConnection(landmarks, 0, 4, headColor);\n      drawConnection(landmarks, 4, 5, headColor);\n      drawConnection(landmarks, 5, 6, headColor);\n      drawConnection(landmarks, 6, 8, headColor);\n\n      // Torso (blue)\n      const torsoColor = '#0000FF';\n      drawConnection(landmarks, 11, 23, torsoColor); // left shoulder to hip\n      drawConnection(landmarks, 12, 24, torsoColor); // right shoulder to hip\n      drawConnection(landmarks, 23, 24, torsoColor); // hips\n\n      // Lower body (yellow)\n      const lowerBodyColor = '#FFFF00';\n      drawConnection(landmarks, 23, 25, lowerBodyColor); // left hip to knee\n      drawConnection(landmarks, 25, 27, lowerBodyColor); // left knee to ankle\n      drawConnection(landmarks, 24, 26, lowerBodyColor); // right hip to knee\n      drawConnection(landmarks, 26, 28, lowerBodyColor); // right knee to ankle\n\n      // Draw landmarks\n      landmarks.forEach((landmark, index) => {\n        if (landmark.visibility > 0.5) {\n          canvasCtx.beginPath();\n          canvasCtx.arc(landmark.x * videoWidth, landmark.y * videoHeight, 5, 0, 2 * Math.PI);\n          canvasCtx.fillStyle = '#FFFFFF';\n          canvasCtx.fill();\n          canvasCtx.strokeStyle = '#000000';\n          canvasCtx.stroke();\n        }\n      });\n      canvasCtx.restore();\n    }\n  }, [selectedPose]);\n  useEffect(() => {\n    let pose = null;\n    let camera = null;\n    const initializePose = async () => {\n      try {\n        pose = new Pose({\n          locateFile: file => {\n            return `https://cdn.jsdelivr.net/npm/@mediapipe/pose/${file}`;\n          }\n        });\n        pose.setOptions({\n          modelComplexity: 1,\n          smoothLandmarks: true,\n          enableSegmentation: false,\n          smoothSegmentation: false,\n          minDetectionConfidence: 0.5,\n          minTrackingConfidence: 0.5\n        });\n        pose.onResults(onResults);\n        if (webcamRef.current && webcamRef.current.video) {\n          camera = new Camera(webcamRef.current.video, {\n            onFrame: async () => {\n              if (webcamRef.current && webcamRef.current.video) {\n                await pose.send({\n                  image: webcamRef.current.video\n                });\n              }\n            },\n            width: 640,\n            height: 480\n          });\n          camera.start();\n          setIsLoading(false);\n        }\n      } catch (err) {\n        console.error('Error initializing pose detection:', err);\n        setError('Failed to initialize pose detection. Please try refreshing the page.');\n        setIsLoading(false);\n      }\n    };\n    initializePose();\n    return () => {\n      if (camera) {\n        camera.stop();\n      }\n      if (pose) {\n        pose.close();\n      }\n    };\n  }, [onResults]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"pose-tracker\",\n    children: [isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading pose detector... Please wait a moment.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: '0.9em',\n          color: '#666'\n        },\n        children: \"This may take a few seconds to initialize.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 17\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => window.location.reload(),\n        style: {\n          marginTop: '10px',\n          padding: '8px 16px',\n          backgroundColor: '#4CAF50',\n          color: 'white',\n          border: 'none',\n          borderRadius: '4px',\n          cursor: 'pointer'\n        },\n        children: \"Retry\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"camera-container\",\n      children: [/*#__PURE__*/_jsxDEV(Webcam, {\n        ref: webcamRef,\n        className: \"webcam\",\n        mirrored: true,\n        videoConstraints: videoConstraints\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: canvasRef,\n        className: \"pose-canvas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 17\n      }, this), selectedPose && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"accuracy-display\",\n        style: {\n          position: 'absolute',\n          top: '20px',\n          left: '20px',\n          background: 'rgba(0, 0, 0, 0.7)',\n          color: 'white',\n          padding: '10px',\n          borderRadius: '5px',\n          fontSize: '1.2em'\n        },\n        children: [\"Pose Accuracy: \", poseAccuracy, \"%\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 221,\n    columnNumber: 9\n  }, this);\n};\n_s(PoseTracker, \"LnTmPtxLswYsVaomc4ofD26+Ew4=\");\n_c = PoseTracker;\nexport default PoseTracker;\nvar _c;\n$RefreshReg$(_c, \"PoseTracker\");","map":{"version":3,"names":["React","useRef","useEffect","useState","useCallback","Webcam","Camera","Pose","jsxDEV","_jsxDEV","PoseTracker","selectedPose","_s","webcamRef","canvasRef","poseRef","isLoading","setIsLoading","error","setError","poseAccuracy","setPoseAccuracy","videoConstraints","width","height","facingMode","calculatePoseAccuracy","userLandmarks","targetPose","totalAccuracy","totalPoints","keyPoints","forEach","index","userLandmark","targetLandmark","landmarks","visibility","distance","Math","sqrt","pow","x","y","pointAccuracy","max","onResults","results","current","poseLandmarks","canvasElement","canvasCtx","getContext","videoWidth","video","videoHeight","accuracy","round","clearRect","save","scale","translate","lineWidth","drawConnection","start","end","color","startPoint","endPoint","beginPath","moveTo","lineTo","strokeStyle","stroke","upperBodyColor","headColor","torsoColor","lowerBodyColor","landmark","arc","PI","fillStyle","fill","restore","pose","camera","initializePose","locateFile","file","setOptions","modelComplexity","smoothLandmarks","enableSegmentation","smoothSegmentation","minDetectionConfidence","minTrackingConfidence","onFrame","send","image","err","console","stop","close","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","fontSize","onClick","window","location","reload","marginTop","padding","backgroundColor","border","borderRadius","cursor","ref","mirrored","position","top","left","background","_c","$RefreshReg$"],"sources":["C:/Users/Quant/Documents/Programming/Projects/Hackathon/MakeUofT/frontend/src/components/PoseTracker.js"],"sourcesContent":["import React, { useRef, useEffect, useState, useCallback } from 'react';\r\nimport Webcam from 'react-webcam';\r\nimport { Camera } from '@mediapipe/camera_utils';\r\nimport { Pose } from '@mediapipe/pose';\r\nimport './PoseTracker.css';\r\n\r\nconst PoseTracker = ({ selectedPose }) => {\r\n    const webcamRef = useRef(null);\r\n    const canvasRef = useRef(null);\r\n    const poseRef = useRef(null);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    const [poseAccuracy, setPoseAccuracy] = useState(0);\r\n\r\n    const videoConstraints = {\r\n        width: 640,\r\n        height: 480,\r\n        facingMode: 'user',\r\n    };\r\n\r\n    const calculatePoseAccuracy = (userLandmarks, targetPose) => {\r\n        if (!targetPose || !userLandmarks) return 0;\r\n\r\n        let totalAccuracy = 0;\r\n        let totalPoints = 0;\r\n\r\n        // We'll focus on key pose points (excluding face landmarks)\r\n        const keyPoints = [\r\n            11, 12, // shoulders\r\n            13, 14, // elbows\r\n            15, 16, // wrists\r\n            23, 24, // hips\r\n            25, 26, // knees\r\n            27, 28  // ankles\r\n        ];\r\n\r\n        keyPoints.forEach(index => {\r\n            const userLandmark = userLandmarks[index];\r\n            const targetLandmark = targetPose.landmarks[index];\r\n\r\n            if (userLandmark.visibility > 0.5 && targetLandmark.visibility > 0.5) {\r\n                // Calculate Euclidean distance for x and y coordinates\r\n                const distance = Math.sqrt(\r\n                    Math.pow(userLandmark.x - targetLandmark.x, 2) +\r\n                    Math.pow(userLandmark.y - targetLandmark.y, 2)\r\n                );\r\n\r\n                // Convert distance to accuracy (closer = higher accuracy)\r\n                // We consider a distance of 0.1 (10% of the frame) or less as acceptable\r\n                const pointAccuracy = Math.max(0, 1 - (distance / 0.1));\r\n                totalAccuracy += pointAccuracy;\r\n                totalPoints++;\r\n            }\r\n        });\r\n\r\n        return totalPoints > 0 ? (totalAccuracy / totalPoints) * 100 : 0;\r\n    };\r\n\r\n    const onResults = useCallback((results) => {\r\n        if (!canvasRef.current || !results.poseLandmarks) return;\r\n\r\n        const canvasElement = canvasRef.current;\r\n        const canvasCtx = canvasElement.getContext('2d');\r\n        const videoWidth = webcamRef.current.video.videoWidth;\r\n        const videoHeight = webcamRef.current.video.videoHeight;\r\n\r\n        // Set canvas dimensions to match video\r\n        canvasElement.width = videoWidth;\r\n        canvasElement.height = videoHeight;\r\n\r\n        // Calculate pose accuracy if we have a selected pose\r\n        if (selectedPose) {\r\n            const accuracy = calculatePoseAccuracy(results.poseLandmarks, selectedPose);\r\n            setPoseAccuracy(Math.round(accuracy));\r\n        }\r\n\r\n        // Clear canvas\r\n        canvasCtx.clearRect(0, 0, canvasElement.width, canvasElement.height);\r\n\r\n        // Draw pose landmarks\r\n        if (results.poseLandmarks) {\r\n            // Draw the pose landmarks\r\n            canvasCtx.save();\r\n            canvasCtx.clearRect(0, 0, canvasElement.width, canvasElement.height);\r\n\r\n            // Mirror the canvas context\r\n            canvasCtx.scale(-1, 1);\r\n            canvasCtx.translate(-videoWidth, 0);\r\n\r\n            // Draw connectors\r\n            canvasCtx.lineWidth = 3;\r\n\r\n            // Draw pose connections\r\n            function drawConnection(landmarks, start, end, color) {\r\n                const startPoint = landmarks[start];\r\n                const endPoint = landmarks[end];\r\n\r\n                if (startPoint.visibility > 0.5 && endPoint.visibility > 0.5) {\r\n                    canvasCtx.beginPath();\r\n                    canvasCtx.moveTo(startPoint.x * videoWidth, startPoint.y * videoHeight);\r\n                    canvasCtx.lineTo(endPoint.x * videoWidth, endPoint.y * videoHeight);\r\n                    canvasCtx.strokeStyle = color;\r\n                    canvasCtx.stroke();\r\n                }\r\n            }\r\n\r\n            const landmarks = results.poseLandmarks;\r\n\r\n            // Draw body parts with different colors\r\n            // Upper body (green)\r\n            const upperBodyColor = '#00FF00';\r\n            drawConnection(landmarks, 11, 12, upperBodyColor); // shoulders\r\n            drawConnection(landmarks, 11, 13, upperBodyColor); // left upper arm\r\n            drawConnection(landmarks, 13, 15, upperBodyColor); // left lower arm\r\n            drawConnection(landmarks, 12, 14, upperBodyColor); // right upper arm\r\n            drawConnection(landmarks, 14, 16, upperBodyColor); // right lower arm\r\n\r\n            // Head (red)\r\n            const headColor = '#FF0000';\r\n            drawConnection(landmarks, 0, 1, headColor);\r\n            drawConnection(landmarks, 1, 2, headColor);\r\n            drawConnection(landmarks, 2, 3, headColor);\r\n            drawConnection(landmarks, 3, 7, headColor);\r\n            drawConnection(landmarks, 0, 4, headColor);\r\n            drawConnection(landmarks, 4, 5, headColor);\r\n            drawConnection(landmarks, 5, 6, headColor);\r\n            drawConnection(landmarks, 6, 8, headColor);\r\n\r\n            // Torso (blue)\r\n            const torsoColor = '#0000FF';\r\n            drawConnection(landmarks, 11, 23, torsoColor); // left shoulder to hip\r\n            drawConnection(landmarks, 12, 24, torsoColor); // right shoulder to hip\r\n            drawConnection(landmarks, 23, 24, torsoColor); // hips\r\n\r\n            // Lower body (yellow)\r\n            const lowerBodyColor = '#FFFF00';\r\n            drawConnection(landmarks, 23, 25, lowerBodyColor); // left hip to knee\r\n            drawConnection(landmarks, 25, 27, lowerBodyColor); // left knee to ankle\r\n            drawConnection(landmarks, 24, 26, lowerBodyColor); // right hip to knee\r\n            drawConnection(landmarks, 26, 28, lowerBodyColor); // right knee to ankle\r\n\r\n            // Draw landmarks\r\n            landmarks.forEach((landmark, index) => {\r\n                if (landmark.visibility > 0.5) {\r\n                    canvasCtx.beginPath();\r\n                    canvasCtx.arc(\r\n                        landmark.x * videoWidth,\r\n                        landmark.y * videoHeight,\r\n                        5,\r\n                        0,\r\n                        2 * Math.PI\r\n                    );\r\n                    canvasCtx.fillStyle = '#FFFFFF';\r\n                    canvasCtx.fill();\r\n                    canvasCtx.strokeStyle = '#000000';\r\n                    canvasCtx.stroke();\r\n                }\r\n            });\r\n\r\n            canvasCtx.restore();\r\n        }\r\n    }, [selectedPose]);\r\n\r\n    useEffect(() => {\r\n        let pose = null;\r\n        let camera = null;\r\n\r\n        const initializePose = async () => {\r\n            try {\r\n                pose = new Pose({\r\n                    locateFile: (file) => {\r\n                        return `https://cdn.jsdelivr.net/npm/@mediapipe/pose/${file}`;\r\n                    }\r\n                });\r\n\r\n                pose.setOptions({\r\n                    modelComplexity: 1,\r\n                    smoothLandmarks: true,\r\n                    enableSegmentation: false,\r\n                    smoothSegmentation: false,\r\n                    minDetectionConfidence: 0.5,\r\n                    minTrackingConfidence: 0.5\r\n                });\r\n\r\n                pose.onResults(onResults);\r\n\r\n                if (webcamRef.current && webcamRef.current.video) {\r\n                    camera = new Camera(webcamRef.current.video, {\r\n                        onFrame: async () => {\r\n                            if (webcamRef.current && webcamRef.current.video) {\r\n                                await pose.send({ image: webcamRef.current.video });\r\n                            }\r\n                        },\r\n                        width: 640,\r\n                        height: 480\r\n                    });\r\n\r\n                    camera.start();\r\n                    setIsLoading(false);\r\n                }\r\n            } catch (err) {\r\n                console.error('Error initializing pose detection:', err);\r\n                setError('Failed to initialize pose detection. Please try refreshing the page.');\r\n                setIsLoading(false);\r\n            }\r\n        };\r\n\r\n        initializePose();\r\n\r\n        return () => {\r\n            if (camera) {\r\n                camera.stop();\r\n            }\r\n            if (pose) {\r\n                pose.close();\r\n            }\r\n        };\r\n    }, [onResults]);\r\n\r\n    return (\r\n        <div className=\"pose-tracker\">\r\n            {isLoading && (\r\n                <div className=\"loading\">\r\n                    <p>Loading pose detector... Please wait a moment.</p>\r\n                    <p style={{ fontSize: '0.9em', color: '#666' }}>\r\n                        This may take a few seconds to initialize.\r\n                    </p>\r\n                </div>\r\n            )}\r\n            {error && (\r\n                <div className=\"error\">\r\n                    <p>{error}</p>\r\n                    <button\r\n                        onClick={() => window.location.reload()}\r\n                        style={{\r\n                            marginTop: '10px',\r\n                            padding: '8px 16px',\r\n                            backgroundColor: '#4CAF50',\r\n                            color: 'white',\r\n                            border: 'none',\r\n                            borderRadius: '4px',\r\n                            cursor: 'pointer',\r\n                        }}\r\n                    >\r\n                        Retry\r\n                    </button>\r\n                </div>\r\n            )}\r\n            <div className=\"camera-container\">\r\n                <Webcam\r\n                    ref={webcamRef}\r\n                    className=\"webcam\"\r\n                    mirrored={true}\r\n                    videoConstraints={videoConstraints}\r\n                />\r\n                <canvas ref={canvasRef} className=\"pose-canvas\" />\r\n                {selectedPose && (\r\n                    <div className=\"accuracy-display\" style={{\r\n                        position: 'absolute',\r\n                        top: '20px',\r\n                        left: '20px',\r\n                        background: 'rgba(0, 0, 0, 0.7)',\r\n                        color: 'white',\r\n                        padding: '10px',\r\n                        borderRadius: '5px',\r\n                        fontSize: '1.2em'\r\n                    }}>\r\n                        Pose Accuracy: {poseAccuracy}%\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PoseTracker;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,MAAM,EAAEC,SAAS,EAAEC,QAAQ,EAAEC,WAAW,QAAQ,OAAO;AACvE,OAAOC,MAAM,MAAM,cAAc;AACjC,SAASC,MAAM,QAAQ,yBAAyB;AAChD,SAASC,IAAI,QAAQ,iBAAiB;AACtC,OAAO,mBAAmB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3B,MAAMC,WAAW,GAAGA,CAAC;EAAEC;AAAa,CAAC,KAAK;EAAAC,EAAA;EACtC,MAAMC,SAAS,GAAGZ,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAMa,SAAS,GAAGb,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAMc,OAAO,GAAGd,MAAM,CAAC,IAAI,CAAC;EAC5B,MAAM,CAACe,SAAS,EAAEC,YAAY,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAACe,KAAK,EAAEC,QAAQ,CAAC,GAAGhB,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACiB,YAAY,EAAEC,eAAe,CAAC,GAAGlB,QAAQ,CAAC,CAAC,CAAC;EAEnD,MAAMmB,gBAAgB,GAAG;IACrBC,KAAK,EAAE,GAAG;IACVC,MAAM,EAAE,GAAG;IACXC,UAAU,EAAE;EAChB,CAAC;EAED,MAAMC,qBAAqB,GAAGA,CAACC,aAAa,EAAEC,UAAU,KAAK;IACzD,IAAI,CAACA,UAAU,IAAI,CAACD,aAAa,EAAE,OAAO,CAAC;IAE3C,IAAIE,aAAa,GAAG,CAAC;IACrB,IAAIC,WAAW,GAAG,CAAC;;IAEnB;IACA,MAAMC,SAAS,GAAG,CACd,EAAE,EAAE,EAAE;IAAE;IACR,EAAE,EAAE,EAAE;IAAE;IACR,EAAE,EAAE,EAAE;IAAE;IACR,EAAE,EAAE,EAAE;IAAE;IACR,EAAE,EAAE,EAAE;IAAE;IACR,EAAE,EAAE,EAAE,CAAE;IAAA,CACX;IAEDA,SAAS,CAACC,OAAO,CAACC,KAAK,IAAI;MACvB,MAAMC,YAAY,GAAGP,aAAa,CAACM,KAAK,CAAC;MACzC,MAAME,cAAc,GAAGP,UAAU,CAACQ,SAAS,CAACH,KAAK,CAAC;MAElD,IAAIC,YAAY,CAACG,UAAU,GAAG,GAAG,IAAIF,cAAc,CAACE,UAAU,GAAG,GAAG,EAAE;QAClE;QACA,MAAMC,QAAQ,GAAGC,IAAI,CAACC,IAAI,CACtBD,IAAI,CAACE,GAAG,CAACP,YAAY,CAACQ,CAAC,GAAGP,cAAc,CAACO,CAAC,EAAE,CAAC,CAAC,GAC9CH,IAAI,CAACE,GAAG,CAACP,YAAY,CAACS,CAAC,GAAGR,cAAc,CAACQ,CAAC,EAAE,CAAC,CACjD,CAAC;;QAED;QACA;QACA,MAAMC,aAAa,GAAGL,IAAI,CAACM,GAAG,CAAC,CAAC,EAAE,CAAC,GAAIP,QAAQ,GAAG,GAAI,CAAC;QACvDT,aAAa,IAAIe,aAAa;QAC9Bd,WAAW,EAAE;MACjB;IACJ,CAAC,CAAC;IAEF,OAAOA,WAAW,GAAG,CAAC,GAAID,aAAa,GAAGC,WAAW,GAAI,GAAG,GAAG,CAAC;EACpE,CAAC;EAED,MAAMgB,SAAS,GAAG1C,WAAW,CAAE2C,OAAO,IAAK;IACvC,IAAI,CAACjC,SAAS,CAACkC,OAAO,IAAI,CAACD,OAAO,CAACE,aAAa,EAAE;IAElD,MAAMC,aAAa,GAAGpC,SAAS,CAACkC,OAAO;IACvC,MAAMG,SAAS,GAAGD,aAAa,CAACE,UAAU,CAAC,IAAI,CAAC;IAChD,MAAMC,UAAU,GAAGxC,SAAS,CAACmC,OAAO,CAACM,KAAK,CAACD,UAAU;IACrD,MAAME,WAAW,GAAG1C,SAAS,CAACmC,OAAO,CAACM,KAAK,CAACC,WAAW;;IAEvD;IACAL,aAAa,CAAC3B,KAAK,GAAG8B,UAAU;IAChCH,aAAa,CAAC1B,MAAM,GAAG+B,WAAW;;IAElC;IACA,IAAI5C,YAAY,EAAE;MACd,MAAM6C,QAAQ,GAAG9B,qBAAqB,CAACqB,OAAO,CAACE,aAAa,EAAEtC,YAAY,CAAC;MAC3EU,eAAe,CAACkB,IAAI,CAACkB,KAAK,CAACD,QAAQ,CAAC,CAAC;IACzC;;IAEA;IACAL,SAAS,CAACO,SAAS,CAAC,CAAC,EAAE,CAAC,EAAER,aAAa,CAAC3B,KAAK,EAAE2B,aAAa,CAAC1B,MAAM,CAAC;;IAEpE;IACA,IAAIuB,OAAO,CAACE,aAAa,EAAE;MACvB;MACAE,SAAS,CAACQ,IAAI,CAAC,CAAC;MAChBR,SAAS,CAACO,SAAS,CAAC,CAAC,EAAE,CAAC,EAAER,aAAa,CAAC3B,KAAK,EAAE2B,aAAa,CAAC1B,MAAM,CAAC;;MAEpE;MACA2B,SAAS,CAACS,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;MACtBT,SAAS,CAACU,SAAS,CAAC,CAACR,UAAU,EAAE,CAAC,CAAC;;MAEnC;MACAF,SAAS,CAACW,SAAS,GAAG,CAAC;;MAEvB;MACA,SAASC,cAAcA,CAAC3B,SAAS,EAAE4B,KAAK,EAAEC,GAAG,EAAEC,KAAK,EAAE;QAClD,MAAMC,UAAU,GAAG/B,SAAS,CAAC4B,KAAK,CAAC;QACnC,MAAMI,QAAQ,GAAGhC,SAAS,CAAC6B,GAAG,CAAC;QAE/B,IAAIE,UAAU,CAAC9B,UAAU,GAAG,GAAG,IAAI+B,QAAQ,CAAC/B,UAAU,GAAG,GAAG,EAAE;UAC1Dc,SAAS,CAACkB,SAAS,CAAC,CAAC;UACrBlB,SAAS,CAACmB,MAAM,CAACH,UAAU,CAACzB,CAAC,GAAGW,UAAU,EAAEc,UAAU,CAACxB,CAAC,GAAGY,WAAW,CAAC;UACvEJ,SAAS,CAACoB,MAAM,CAACH,QAAQ,CAAC1B,CAAC,GAAGW,UAAU,EAAEe,QAAQ,CAACzB,CAAC,GAAGY,WAAW,CAAC;UACnEJ,SAAS,CAACqB,WAAW,GAAGN,KAAK;UAC7Bf,SAAS,CAACsB,MAAM,CAAC,CAAC;QACtB;MACJ;MAEA,MAAMrC,SAAS,GAAGW,OAAO,CAACE,aAAa;;MAEvC;MACA;MACA,MAAMyB,cAAc,GAAG,SAAS;MAChCX,cAAc,CAAC3B,SAAS,EAAE,EAAE,EAAE,EAAE,EAAEsC,cAAc,CAAC,CAAC,CAAC;MACnDX,cAAc,CAAC3B,SAAS,EAAE,EAAE,EAAE,EAAE,EAAEsC,cAAc,CAAC,CAAC,CAAC;MACnDX,cAAc,CAAC3B,SAAS,EAAE,EAAE,EAAE,EAAE,EAAEsC,cAAc,CAAC,CAAC,CAAC;MACnDX,cAAc,CAAC3B,SAAS,EAAE,EAAE,EAAE,EAAE,EAAEsC,cAAc,CAAC,CAAC,CAAC;MACnDX,cAAc,CAAC3B,SAAS,EAAE,EAAE,EAAE,EAAE,EAAEsC,cAAc,CAAC,CAAC,CAAC;;MAEnD;MACA,MAAMC,SAAS,GAAG,SAAS;MAC3BZ,cAAc,CAAC3B,SAAS,EAAE,CAAC,EAAE,CAAC,EAAEuC,SAAS,CAAC;MAC1CZ,cAAc,CAAC3B,SAAS,EAAE,CAAC,EAAE,CAAC,EAAEuC,SAAS,CAAC;MAC1CZ,cAAc,CAAC3B,SAAS,EAAE,CAAC,EAAE,CAAC,EAAEuC,SAAS,CAAC;MAC1CZ,cAAc,CAAC3B,SAAS,EAAE,CAAC,EAAE,CAAC,EAAEuC,SAAS,CAAC;MAC1CZ,cAAc,CAAC3B,SAAS,EAAE,CAAC,EAAE,CAAC,EAAEuC,SAAS,CAAC;MAC1CZ,cAAc,CAAC3B,SAAS,EAAE,CAAC,EAAE,CAAC,EAAEuC,SAAS,CAAC;MAC1CZ,cAAc,CAAC3B,SAAS,EAAE,CAAC,EAAE,CAAC,EAAEuC,SAAS,CAAC;MAC1CZ,cAAc,CAAC3B,SAAS,EAAE,CAAC,EAAE,CAAC,EAAEuC,SAAS,CAAC;;MAE1C;MACA,MAAMC,UAAU,GAAG,SAAS;MAC5Bb,cAAc,CAAC3B,SAAS,EAAE,EAAE,EAAE,EAAE,EAAEwC,UAAU,CAAC,CAAC,CAAC;MAC/Cb,cAAc,CAAC3B,SAAS,EAAE,EAAE,EAAE,EAAE,EAAEwC,UAAU,CAAC,CAAC,CAAC;MAC/Cb,cAAc,CAAC3B,SAAS,EAAE,EAAE,EAAE,EAAE,EAAEwC,UAAU,CAAC,CAAC,CAAC;;MAE/C;MACA,MAAMC,cAAc,GAAG,SAAS;MAChCd,cAAc,CAAC3B,SAAS,EAAE,EAAE,EAAE,EAAE,EAAEyC,cAAc,CAAC,CAAC,CAAC;MACnDd,cAAc,CAAC3B,SAAS,EAAE,EAAE,EAAE,EAAE,EAAEyC,cAAc,CAAC,CAAC,CAAC;MACnDd,cAAc,CAAC3B,SAAS,EAAE,EAAE,EAAE,EAAE,EAAEyC,cAAc,CAAC,CAAC,CAAC;MACnDd,cAAc,CAAC3B,SAAS,EAAE,EAAE,EAAE,EAAE,EAAEyC,cAAc,CAAC,CAAC,CAAC;;MAEnD;MACAzC,SAAS,CAACJ,OAAO,CAAC,CAAC8C,QAAQ,EAAE7C,KAAK,KAAK;QACnC,IAAI6C,QAAQ,CAACzC,UAAU,GAAG,GAAG,EAAE;UAC3Bc,SAAS,CAACkB,SAAS,CAAC,CAAC;UACrBlB,SAAS,CAAC4B,GAAG,CACTD,QAAQ,CAACpC,CAAC,GAAGW,UAAU,EACvByB,QAAQ,CAACnC,CAAC,GAAGY,WAAW,EACxB,CAAC,EACD,CAAC,EACD,CAAC,GAAGhB,IAAI,CAACyC,EACb,CAAC;UACD7B,SAAS,CAAC8B,SAAS,GAAG,SAAS;UAC/B9B,SAAS,CAAC+B,IAAI,CAAC,CAAC;UAChB/B,SAAS,CAACqB,WAAW,GAAG,SAAS;UACjCrB,SAAS,CAACsB,MAAM,CAAC,CAAC;QACtB;MACJ,CAAC,CAAC;MAEFtB,SAAS,CAACgC,OAAO,CAAC,CAAC;IACvB;EACJ,CAAC,EAAE,CAACxE,YAAY,CAAC,CAAC;EAElBT,SAAS,CAAC,MAAM;IACZ,IAAIkF,IAAI,GAAG,IAAI;IACf,IAAIC,MAAM,GAAG,IAAI;IAEjB,MAAMC,cAAc,GAAG,MAAAA,CAAA,KAAY;MAC/B,IAAI;QACAF,IAAI,GAAG,IAAI7E,IAAI,CAAC;UACZgF,UAAU,EAAGC,IAAI,IAAK;YAClB,OAAO,gDAAgDA,IAAI,EAAE;UACjE;QACJ,CAAC,CAAC;QAEFJ,IAAI,CAACK,UAAU,CAAC;UACZC,eAAe,EAAE,CAAC;UAClBC,eAAe,EAAE,IAAI;UACrBC,kBAAkB,EAAE,KAAK;UACzBC,kBAAkB,EAAE,KAAK;UACzBC,sBAAsB,EAAE,GAAG;UAC3BC,qBAAqB,EAAE;QAC3B,CAAC,CAAC;QAEFX,IAAI,CAACtC,SAAS,CAACA,SAAS,CAAC;QAEzB,IAAIjC,SAAS,CAACmC,OAAO,IAAInC,SAAS,CAACmC,OAAO,CAACM,KAAK,EAAE;UAC9C+B,MAAM,GAAG,IAAI/E,MAAM,CAACO,SAAS,CAACmC,OAAO,CAACM,KAAK,EAAE;YACzC0C,OAAO,EAAE,MAAAA,CAAA,KAAY;cACjB,IAAInF,SAAS,CAACmC,OAAO,IAAInC,SAAS,CAACmC,OAAO,CAACM,KAAK,EAAE;gBAC9C,MAAM8B,IAAI,CAACa,IAAI,CAAC;kBAAEC,KAAK,EAAErF,SAAS,CAACmC,OAAO,CAACM;gBAAM,CAAC,CAAC;cACvD;YACJ,CAAC;YACD/B,KAAK,EAAE,GAAG;YACVC,MAAM,EAAE;UACZ,CAAC,CAAC;UAEF6D,MAAM,CAACrB,KAAK,CAAC,CAAC;UACd/C,YAAY,CAAC,KAAK,CAAC;QACvB;MACJ,CAAC,CAAC,OAAOkF,GAAG,EAAE;QACVC,OAAO,CAAClF,KAAK,CAAC,oCAAoC,EAAEiF,GAAG,CAAC;QACxDhF,QAAQ,CAAC,sEAAsE,CAAC;QAChFF,YAAY,CAAC,KAAK,CAAC;MACvB;IACJ,CAAC;IAEDqE,cAAc,CAAC,CAAC;IAEhB,OAAO,MAAM;MACT,IAAID,MAAM,EAAE;QACRA,MAAM,CAACgB,IAAI,CAAC,CAAC;MACjB;MACA,IAAIjB,IAAI,EAAE;QACNA,IAAI,CAACkB,KAAK,CAAC,CAAC;MAChB;IACJ,CAAC;EACL,CAAC,EAAE,CAACxD,SAAS,CAAC,CAAC;EAEf,oBACIrC,OAAA;IAAK8F,SAAS,EAAC,cAAc;IAAAC,QAAA,GACxBxF,SAAS,iBACNP,OAAA;MAAK8F,SAAS,EAAC,SAAS;MAAAC,QAAA,gBACpB/F,OAAA;QAAA+F,QAAA,EAAG;MAA8C;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,eACrDnG,OAAA;QAAGoG,KAAK,EAAE;UAAEC,QAAQ,EAAE,OAAO;UAAE5C,KAAK,EAAE;QAAO,CAAE;QAAAsC,QAAA,EAAC;MAEhD;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACR,EACA1F,KAAK,iBACFT,OAAA;MAAK8F,SAAS,EAAC,OAAO;MAAAC,QAAA,gBAClB/F,OAAA;QAAA+F,QAAA,EAAItF;MAAK;QAAAuF,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACdnG,OAAA;QACIsG,OAAO,EAAEA,CAAA,KAAMC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAE;QACxCL,KAAK,EAAE;UACHM,SAAS,EAAE,MAAM;UACjBC,OAAO,EAAE,UAAU;UACnBC,eAAe,EAAE,SAAS;UAC1BnD,KAAK,EAAE,OAAO;UACdoD,MAAM,EAAE,MAAM;UACdC,YAAY,EAAE,KAAK;UACnBC,MAAM,EAAE;QACZ,CAAE;QAAAhB,QAAA,EACL;MAED;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACR,CACR,eACDnG,OAAA;MAAK8F,SAAS,EAAC,kBAAkB;MAAAC,QAAA,gBAC7B/F,OAAA,CAACJ,MAAM;QACHoH,GAAG,EAAE5G,SAAU;QACf0F,SAAS,EAAC,QAAQ;QAClBmB,QAAQ,EAAE,IAAK;QACfpG,gBAAgB,EAAEA;MAAiB;QAAAmF,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACtC,CAAC,eACFnG,OAAA;QAAQgH,GAAG,EAAE3G,SAAU;QAACyF,SAAS,EAAC;MAAa;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,EACjDjG,YAAY,iBACTF,OAAA;QAAK8F,SAAS,EAAC,kBAAkB;QAACM,KAAK,EAAE;UACrCc,QAAQ,EAAE,UAAU;UACpBC,GAAG,EAAE,MAAM;UACXC,IAAI,EAAE,MAAM;UACZC,UAAU,EAAE,oBAAoB;UAChC5D,KAAK,EAAE,OAAO;UACdkD,OAAO,EAAE,MAAM;UACfG,YAAY,EAAE,KAAK;UACnBT,QAAQ,EAAE;QACd,CAAE;QAAAN,QAAA,GAAC,iBACgB,EAACpF,YAAY,EAAC,GACjC;MAAA;QAAAqF,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CACR;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEd,CAAC;AAAChG,EAAA,CA3QIF,WAAW;AAAAqH,EAAA,GAAXrH,WAAW;AA6QjB,eAAeA,WAAW;AAAC,IAAAqH,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}